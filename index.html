<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8 Meses - Libro Digital Interactivo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', 'Times New Roman', serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
            color: #333;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        /* Contenedor principal del libro */
        .book-wrapper {
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            perspective: 2000px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Libro 3D con efecto de p치ginas */
        .book {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1.5s cubic-bezier(0.42, 0, 0.58, 1);
        }
        
        /* P치ginas del libro */
        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background-color: #fff;
            transform-origin: left center;
            transition: transform 1.5s cubic-bezier(0.42, 0, 0.58, 1);
            box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
            border-radius: 5px 0 0 5px;
            overflow: hidden;
            display: flex;
        }
        
        /* P치gina frontal (cubierta) */
        .page.front-cover {
            background: linear-gradient(45deg, #ff7700, #ff5500);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            border-radius: 10px 0 0 10px;
            box-shadow: -5px 5px 20px rgba(0, 0, 0, 0.5);
        }
        
        /* Contenido de la cubierta */
        .cover-content {
            text-align: center;
            padding: 40px;
            z-index: 2;
        }
        
        .cover-title {
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
            letter-spacing: 2px;
        }
        
        .cover-subtitle {
            font-size: 1.8rem;
            margin-bottom: 40px;
            font-style: italic;
        }
        
        .cover-heart {
            font-size: 5rem;
            color: rgba(255, 255, 255, 0.9);
            margin-top: 30px;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* P치ginas internas - lado izquierdo y derecho */
        .page-inner {
            width: 100%;
            height: 100%;
            display: flex;
        }
        
        .page-left, .page-right {
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow-y: auto;
        }
        
        .page-left {
            background-color: #fff;
            border-right: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .page-right {
            background-color: #f9f9f9;
        }
        
        /* N칰mero de p치gina */
        .page-number {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 0.9rem;
            color: #888;
            font-style: italic;
        }
        
        /* Estilos de texto */
        h1 {
            font-size: 2.8rem;
            color: #ff7700;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 119, 0, 0.3);
        }
        
        h2 {
            font-size: 2rem;
            color: #ff5500;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 85, 0, 0.2);
        }
        
        p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 25px;
            text-align: justify;
        }
        
        .highlight {
            background-color: rgba(255, 119, 0, 0.1);
            padding: 15px;
            border-left: 4px solid #ff7700;
            font-style: italic;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }
        
        /* Im치genes */
        .page-image {
            width: 100%;
            max-height: 350px;
            object-fit: cover;
            border-radius: 5px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Decoraciones de p치gina */
        .page-decoration {
            position: absolute;
            font-size: 200px;
            color: rgba(255, 119, 0, 0.05);
            z-index: 0;
            pointer-events: none;
        }
        
        .decoration-left {
            bottom: -50px;
            left: -50px;
        }
        
        .decoration-right {
            top: -50px;
            right: -50px;
        }
        
        /* P치gina de m칰sica */
        .music-section {
            width: 100%;
            height: 100%;
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .music-title {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .music-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 30px;
        }
        
        .music-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            width: 250px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 119, 0, 0.2);
            text-align: center;
        }
        
        .album-cover {
            width: 180px;
            height: 180px;
            margin: 0 auto 15px;
            border-radius: 5px;
            overflow: hidden;
            border: 2px solid #ff7700;
        }
        
        .album-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .song-title {
            font-size: 1.3rem;
            color: #ff5500;
            margin-bottom: 5px;
        }
        
        .play-btn {
            background: #ff7700;
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 15px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .play-btn:hover {
            background: #ff5500;
            transform: scale(1.1);
        }
        
        .audio-player {
            width: 100%;
            margin-top: 10px;
        }
        
        /* P치gina final (contraportada) */
        .page.back-cover {
            background: linear-gradient(45deg, #333, #111);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
            border-radius: 0 10px 10px 0;
            box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.5);
        }
        
        .back-cover-content {
            text-align: center;
            padding: 40px;
        }
        
        .signature {
            font-size: 2.5rem;
            margin-top: 30px;
            color: #ff7700;
        }
        
        .hearts {
            font-size: 3rem;
            margin-top: 20px;
            letter-spacing: 15px;
        }
        
        /* Controles de navegaci칩n */
        .navigation {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 100;
        }
        
        .nav-btn {
            background: #ff7700;
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            background: #ff5500;
            transform: scale(1.1);
        }
        
        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        /* Indicador de p치gina */
        .page-indicator {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 119, 0, 0.9);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1.2rem;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* Efecto de sombra en el lomo del libro */
        .book::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 5%, rgba(0,0,0,0) 95%, rgba(0,0,0,0.1) 100%);
            pointer-events: none;
            z-index: 1000;
            border-radius: 10px;
        }
        
        /* Animaci칩n de entrada */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 1s ease forwards;
        }
        
        /* Efecto de texto escrito */
        .typewriter {
            overflow: hidden;
            border-right: 2px solid #ff7700;
            white-space: nowrap;
            margin: 0 auto;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #ff7700; }
        }
        
        /* Responsive para m칩viles */
        @media (max-width: 1024px) {
            .book-wrapper {
                height: 80vh;
            }
            
            .cover-title {
                font-size: 2.5rem;
            }
            
            .cover-subtitle {
                font-size: 1.4rem;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            h2 {
                font-size: 1.8rem;
            }
            
            .page-left, .page-right {
                padding: 25px;
            }
            
            .music-container {
                flex-direction: column;
                align-items: center;
            }
            
            .music-card {
                width: 100%;
                max-width: 300px;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .book-wrapper {
                height: 70vh;
            }
            
            .page-left, .page-right {
                padding: 15px;
                overflow-y: auto;
            }
            
            .navigation {
                bottom: 20px;
            }
            
            .nav-btn {
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <div class="book-wrapper">
        <div class="book" id="book">
            <!-- Cubierta frontal -->
            <div class="page front-cover" id="cover">
                <div class="cover-content">
                    <h1 class="cover-title typewriter">8 Meses</h1>
                    <p class="cover-subtitle">Un viaje de amor y aprendizaje</p>
                    <p>Para mi querida Diliana</p>
                    <div class="cover-heart">
                        <i class="fas fa-heart"></i>
                    </div>
                    <p class="page-number">Toca para abrir</p>
                </div>
            </div>
            
            <!-- P치gina 1 -->
            <div class="page" id="page1">
                <div class="page-inner">
                    <div class="page-left">
                        <i class="fas fa-heart page-decoration decoration-left"></i>
                        <h1 class="fade-in">Feliz 8 Meses</h1>
                        <p class="fade-in">Mi reina hermosa, preciosa, divina, resplandeciente, espectacular de mi vida, gracias por compartir conmigo estos meses tan importantes de toda mi vida.</p>
                        <p class="fade-in">S칠 que he sido un idiota 칰ltimamente y s칠 los muchos errores que he cometido por causa de mis miedos e inseguridades, pero quisiera que me acompa침es todav칤a a aprender m치s de ti y de m칤.</p>
                        <div class="highlight fade-in">
                            Eres la persona m치s especial que ha llegado a mi vida, y cada d칤a a tu lado es un regalo que atesoro profundamente.
                        </div>
                    </div>
                    <div class="page-right">
                        <div class="image-container fade-in">
                            <img src="Em.JPG" alt="Pareja feliz" class="page-image">
                            <p class="image-caption" style="text-align: center; font-style: italic; margin-top: 10px;">Cada momento contigo es especial</p>
                        </div>
                    </div>
                    <div class="page-number">1</div>
                </div>
            </div>
            
            <!-- P치gina 2 -->
            <div class="page" id="page2">
                <div class="page-inner">
                    <div class="page-left">
                        <div class="image-container fade-in">
                            <img src="En.JPG" alt="Atardecer rom치ntico" class="page-image">
                            <p class="image-caption" style="text-align: center; font-style: italic; margin-top: 10px;">Nuestros momentos juntos</p>
                        </div>
                    </div>
                    <div class="page-right">
                        <i class="fas fa-heart page-decoration decoration-right"></i>
                        <h2 class="fade-in">Mi Vida Contigo</h2>
                        <p class="fade-in">Mi vida sin ti es aburrida y mon칩tona, pero pienso en ti y hace que mi emoci칩n por hacer cosas nuevas y aprender cosas nuevas sea fuerte porque quiero ense침arte un mont칩n de cosas para que veas lo bonito que es la vida.</p>
                        <p class="fade-in">Quiero que entiendas que a pesar de que somos diferentes y a veces somos iguales, y que la vida nos trat칩 como una mierda, veas lo bonito que hay en esta vida que estamos teniendo t칰 y yo.</p>
                        <p class="fade-in">Contigo he descubierto que el amor verdadero existe, y que juntos podemos superar cualquier obst치culo que se nos presente en el camino.</p>
                    </div>
                    <div class="page-number">2</div>
                </div>
            </div>
            
            <!-- P치gina 3 -->
            <div class="page" id="page3">
                <div class="page-inner">
                    <div class="page-left">
                        <i class="fas fa-heart page-decoration decoration-left"></i>
                        <h2 class="fade-in">Nuestro Reencuentro</h2>
                        <p class="fade-in">Espero que el d칤a que nos veamos de nuevo sea el mejor d칤a de nuestras vidas como la primera vez que nos vimos.</p>
                        <p class="fade-in">No importa lo que pas칩 ese d칤a, siempre lo recuerdo como lo m치s bonito que me pas칩 en mi vida.</p>
                        <div class="highlight fade-in">
                            Cada momento a tu lado es un tesoro que guardo en lo m치s profundo de mi coraz칩n. Cada risa, cada conversaci칩n, cada mirada... todo queda grabado en mi memoria como lo m치s valioso que poseo.
                        </div>
                        <p class="fade-in">Aunque la distancia nos separe f칤sicamente, en mi coraz칩n siempre est치s cerca, y cada d칤a que pasa mi amor por ti crece m치s y m치s.</p>
                    </div>
                    <div class="page-right">
                        <div class="image-container fade-in">
                            <img src="L.JPG" alt="Corazones y luces" class="page-image">
                            <p class="image-caption" style="text-align: center; font-style: italic; margin-top: 10px;">Nuestro amor brilla como las estrellas</p>
                        </div>
                    </div>
                    <div class="page-number">3</div>
                </div>
            </div>
            
            <!-- P치gina 4 - M칰sica -->
            <div class="page" id="page4">
                <div class="page-inner">
                    <div class="music-section">
                        <i class="fas fa-heart page-decoration decoration-left"></i>
                        <i class="fas fa-heart page-decoration decoration-right"></i>
                        <h2 class="music-title fade-in">Nuestra Banda Sonora</h2>
                        <p class="fade-in" style="text-align: center; margin-bottom: 40px; font-size: 1.2rem;">Canciones que nos recuerdan a nosotros y a estos 8 meses incre칤bles</p>
                        
                        <div class="music-container">
                            <!-- Canci칩n 1 -->
                            <div class="music-card fade-in">
                                <div class="album-cover">
                                    <img src="https://share.google/images/ZGI3KfPZb6Z5AnCgR" alt="Portada canci칩n 1">
                                </div>
                                <h3 class="song-title">Nuestro Universo</h3>
                                <p class="song-artist" style="color: #666; margin-bottom: 15px;">Dedicado a Diliana</p>
                                <button class="play-btn" id="playBtn1">
                                    <i class="fas fa-play"></i>
                                </button>
                                <audio id="audio1" class="audio-player" controls>
                                    <source src="HOME.mp3" type="audio/mpeg">
                                    Tu navegador no soporta el elemento de audio.
                                </audio>
                            </div>
                            
                            <!-- Canci칩n 2 -->
                            <div class="music-card fade-in">
                                <div class="album-cover">
                                    <img src="https://share.google/images/VTowEF71FvoHYpstM" alt="Portada canci칩n 2">
                                </div>
                                <h3 class="song-title">8 Meses Contigo</h3>
                                <p class="song-artist" style="color: #666; margin-bottom: 15px;">Nuestra Canci칩n</p>
                                <button class="play-btn" id="playBtn2">
                                    <i class="fas fa-play"></i>
                                </button>
                                <audio id="audio2" class="audio-player" controls>
                                    <source src="Canciones.mp3" type="audio/mpeg">
                                    Tu navegador no soporta el elemento de audio.
                                </audio>
                            </div>
                        </div>
                        
                        <div class="signature fade-in" style="margin-top: 40px;">
                            <p>Estas canciones son para ti, mi amor</p>
                            <div class="hearts">仇벒잺仇벒잺仇벒잺仇벒잺</div>
                        </div>
                        <div class="page-number" style="color: #888;">4</div>
                    </div>
                </div>
            </div>
            
            <!-- P치gina 5 - Final -->
            <div class="page" id="page5">
                <div class="page-inner">
                    <div class="page-left">
                        <div class="image-container fade-in">
                            <img src="Em.JPG" alt="Pareja feliz" class="page-image">
                            <p class="image-caption" style="text-align: center; font-style: italic; margin-top: 10px;">Nuestra historia de amor</p>
                        </div>
                    </div>
                    <div class="page-right">
                        <i class="fas fa-heart page-decoration decoration-right"></i>
                        <h1 class="fade-in" style="color: #ff7700;">Te Amo, Diliana</h1>
                        <p class="fade-in">Con todo mi ser, de verdad. Cada d칤a a tu lado es un regalo que atesoro con todo mi coraz칩n.</p>
                        <p class="fade-in">Estos 8 meses han sido los m치s especiales de mi vida, llenos de aprendizajes, risas, momentos inolvidables y, sobre todo, mucho amor.</p>
                        <p class="fade-in">Prometo seguir creciendo a tu lado, aprendiendo de mis errores y construyendo un futuro donde podamos seguir compartiendo lo bonito de la vida juntos.</p>
                        
                        <div class="highlight fade-in" style="margin-top: 30px;">
                            No importa lo que pase, siempre recuerda que te amo m치s de lo que las palabras pueden expresar.
                        </div>
                        
                        <div class="signature fade-in" style="margin-top: 40px;">
                            <p>Para siempre tuya</p>
                            <div class="hearts">游눘游눘游눘游눘</div>
                        </div>
                    </div>
                    <div class="page-number">5</div>
                </div>
            </div>
            
            <!-- Contraportada -->
            <div class="page back-cover" id="back-cover">
                <div class="back-cover-content">
                    <h2 style="color: #ff7700; margin-bottom: 30px;">Nuestra Historia Contin칰a...</h2>
                    <p style="margin-bottom: 20px; font-size: 1.2rem;">Este es solo el comienzo de nuestro viaje juntos.</p>
                    <p style="margin-bottom: 40px; font-size: 1.2rem;">Que los pr칩ximos meses y a침os nos traigan m치s amor, risas y momentos inolvidables.</p>
                    <div class="hearts" style="color: #ff7700;">游눗游눗游눗游눗</div>
                    <p style="margin-top: 40px; font-style: italic;">Con todo mi amor, para Diliana</p>
                </div>
            </div>
        </div>
        
        <!-- Indicador de p치gina -->
        <div class="page-indicator" id="pageIndicator">
            P치gina <span id="currentPage">1</span> de <span id="totalPages">6</span>
        </div>
        
        <!-- Controles de navegaci칩n -->
        <div class="navigation">
            <button class="nav-btn" id="prevBtn" disabled>
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="nav-btn" id="nextBtn">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Variables para control del libro
            const book = document.getElementById('book');
            const pages = document.querySelectorAll('.page');
            const totalPages = pages.length;
            let currentPage = 0;
            let isBookOpen = false;
            
            // Elementos de navegaci칩n
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const pageIndicator = document.getElementById('pageIndicator');
            const currentPageSpan = document.getElementById('currentPage');
            const totalPagesSpan = document.getElementById('totalPages');
            
            // Actualizar indicador de p치ginas
            totalPagesSpan.textContent = totalPages - 1; // Restamos la cubierta
            
            // Configurar las p치ginas en posici칩n de libro cerrado
            function setupBook() {
                // La cubierta frontal es visible, las dem치s est치n escondidas
                pages.forEach((page, index) => {
                    if (index === 0) {
                        // Cubierta frontal - visible
                        page.style.transform = 'rotateY(0deg)';
                        page.style.zIndex = totalPages;
                    } else {
                        // P치ginas internas - giradas y apiladas
                        page.style.transform = 'rotateY(-180deg)';
                        page.style.zIndex = totalPages - index;
                    }
                });
                
                // La contraportada est치 al fondo
                pages[totalPages - 1].style.zIndex = 1;
            }
            
            // Abrir el libro
            function openBook() {
                if (isBookOpen) return;
                
                isBookOpen = true;
                
                // Girar la cubierta
                pages[0].style.transform = 'rotateY(-180deg)';
                pages[0].style.zIndex = 1;
                
                // Mostrar la primera p치gina
                pages[1].style.transform = 'rotateY(0deg)';
                pages[1].style.zIndex = totalPages;
                
                currentPage = 1;
                updateNavigation();
                
                // Ocultar el indicador temporalmente
                pageIndicator.style.opacity = '0';
                setTimeout(() => {
                    pageIndicator.style.opacity = '1';
                    pageIndicator.style.transition = 'opacity 0.5s';
                }, 1000);
            }
            
            // Cambiar de p치gina
            function turnPage(direction) {
                if (direction === 'next' && currentPage < totalPages - 2) {
                    // Girar p치gina actual
                    pages[currentPage].style.transform = 'rotateY(-180deg)';
                    pages[currentPage].style.zIndex = totalPages - currentPage;
                    
                    // Mostrar siguiente p치gina
                    currentPage++;
                    pages[currentPage].style.transform = 'rotateY(0deg)';
                    pages[currentPage].style.zIndex = totalPages;
                    
                    // Agregar animaci칩n a los elementos de la nueva p치gina
                    animatePageElements();
                } 
                else if (direction === 'prev' && currentPage > 1) {
                    // Ocultar p치gina actual
                    pages[currentPage].style.transform = 'rotateY(-180deg)';
                    pages[currentPage].style.zIndex = totalPages - currentPage;
                    
                    // Mostrar p치gina anterior
                    currentPage--;
                    pages[currentPage].style.transform = 'rotateY(0deg)';
                    pages[currentPage].style.zIndex = totalPages;
                    
                    // Agregar animaci칩n a los elementos de la nueva p치gina
                    animatePageElements();
                }
                
                updateNavigation();
            }
            
            // Animar elementos de la p치gina actual
            function animatePageElements() {
                const fadeElements = pages[currentPage].querySelectorAll('.fade-in');
                fadeElements.forEach(el => {
                    el.style.animation = 'none';
                    setTimeout(() => {
                        el.style.animation = 'fadeIn 1s ease forwards';
                    }, 100);
                });
            }
            
            // Actualizar navegaci칩n
            function updateNavigation() {
                // Actualizar indicador de p치gina
                currentPageSpan.textContent = currentPage;
                
                // Actualizar estado de botones
                prevBtn.disabled = currentPage <= 1;
                nextBtn.disabled = currentPage >= totalPages - 2;
                
                // Si estamos en la 칰ltima p치gina, cambiar texto del bot칩n siguiente
                if (currentPage >= totalPages - 2) {
                    nextBtn.innerHTML = '<i class="fas fa-book"></i>';
                } else {
                    nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
                }
                
                // Si estamos en la primera p치gina, cambiar texto del bot칩n anterior
                if (currentPage <= 1) {
                    prevBtn.innerHTML = '<i class="fas fa-book"></i>';
                } else {
                    prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
                }
                
                // Detener m칰sica si cambiamos de p치gina y no estamos en la p치gina de m칰sica
                if (currentPage !== 4) {
                    stopAllAudio();
                }
            }
            
            // Detener toda la m칰sica
            function stopAllAudio() {
                audio1.pause();
                audio2.pause();
                playBtn1.innerHTML = '<i class="fas fa-play"></i>';
                playBtn2.innerHTML = '<i class="fas fa-play"></i>';
            }
            
            // Eventos de navegaci칩n
            prevBtn.addEventListener('click', () => {
                if (!isBookOpen) {
                    openBook();
                } else {
                    turnPage('prev');
                }
            });
            
            nextBtn.addEventListener('click', () => {
                if (!isBookOpen) {
                    openBook();
                } else if (currentPage >= totalPages - 2) {
                    // Si estamos en la 칰ltima p치gina, cerrar el libro
                    closeBook();
                } else {
                    turnPage('next');
                }
            });
            
            // Cerrar el libro
            function closeBook() {
                // Ocultar todas las p치ginas excepto la cubierta
                for (let i = 1; i < totalPages - 1; i++) {
                    pages[i].style.transform = 'rotateY(-180deg)';
                    pages[i].style.zIndex = totalPages - i;
                }
                
                // Mostrar la cubierta
                pages[0].style.transform = 'rotateY(0deg)';
                pages[0].style.zIndex = totalPages;
                
                // Mostrar la contraportada al fondo
                pages[totalPages - 1].style.zIndex = 1;
                
                currentPage = 0;
                isBookOpen = false;
                updateNavigation();
                
                // Ocultar indicador de p치gina
                pageIndicator.style.opacity = '0';
                
                // Detener toda la m칰sica
                stopAllAudio();
            }
            
            // Navegaci칩n con teclado
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
                    if (!isBookOpen) {
                        openBook();
                    } else {
                        turnPage('prev');
                    }
                } else if (e.key === 'ArrowRight' || e.key === 'PageDown') {
                    if (!isBookOpen) {
                        openBook();
                    } else if (currentPage >= totalPages - 2) {
                        closeBook();
                    } else {
                        turnPage('next');
                    }
                } else if (e.key === 'Home') {
                    if (isBookOpen && currentPage > 1) {
                        // Volver a la primera p치gina
                        while (currentPage > 1) {
                            turnPage('prev');
                        }
                    }
                } else if (e.key === 'End') {
                    if (isBookOpen && currentPage < totalPages - 2) {
                        // Ir a la 칰ltima p치gina
                        while (currentPage < totalPages - 2) {
                            turnPage('next');
                        }
                    }
                }
            });
            
            // Abrir el libro al hacer clic en la cubierta
            document.getElementById('cover').addEventListener('click', function(e) {
                if (!isBookOpen) {
                    openBook();
                }
            });
            
            // Cerrar el libro al hacer clic en la contraportada
            document.getElementById('back-cover').addEventListener('click', function(e) {
                if (isBookOpen && currentPage >= totalPages - 2) {
                    closeBook();
                }
            });
            
            // Control de los reproductores de audio
            const playBtn1 = document.getElementById('playBtn1');
            const playBtn2 = document.getElementById('playBtn2');
            const audio1 = document.getElementById('audio1');
            const audio2 = document.getElementById('audio2');
            
            // Funci칩n para alternar reproducci칩n/pausa
            function togglePlay(audio, btn) {
                // Pausar el otro audio si est치 reproduciendo
                if (audio === audio1 && !audio1.paused) {
                    audio1.pause();
                    playBtn1.innerHTML = '<i class="fas fa-play"></i>';
                } else if (audio === audio2 && !audio2.paused) {
                    audio2.pause();
                    playBtn2.innerHTML = '<i class="fas fa-play"></i>';
                }
                
                // Reproducir o pausar el audio seleccionado
                if (audio.paused) {
                    audio.play();
                    btn.innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    audio.pause();
                    btn.innerHTML = '<i class="fas fa-play"></i>';
                }
            }
            
            // Control para el primer audio
            playBtn1.addEventListener('click', function() {
                togglePlay(audio1, playBtn1);
            });
            
            // Control para el segundo audio
            playBtn2.addEventListener('click', function() {
                togglePlay(audio2, playBtn2);
            });
            
            // Actualizar iconos cuando el audio termine
            audio1.addEventListener('ended', function() {
                playBtn1.innerHTML = '<i class="fas fa-play"></i>';
            });
            
            audio2.addEventListener('ended', function() {
                playBtn2.innerHTML = '<i class="fas fa-play"></i>';
            });
            
            // Inicializar el libro
            setupBook();
            updateNavigation();
            
            // Efecto de escritura para la cubierta
            const typewriterElement = document.querySelector('.typewriter');
            if (typewriterElement) {
                // El efecto CSS ya maneja la animaci칩n
                // Solo necesitamos reiniciarla al abrir/cerrar el libro
            }
            
            // Permitir navegaci칩n por clic en los bordes de la p치gina
            document.querySelector('.book-wrapper').addEventListener('click', (e) => {
                if (!isBookOpen) return;
                
                const wrapperRect = document.querySelector('.book-wrapper').getBoundingClientRect();
                const clickX = e.clientX - wrapperRect.left;
                const wrapperWidth = wrapperRect.width;
                
                // Si se hace clic en el tercio izquierdo, ir a p치gina anterior
                if (clickX < wrapperWidth / 3 && currentPage > 1) {
                    turnPage('prev');
                }
                // Si se hace clic en el tercio derecho, ir a p치gina siguiente
                else if (clickX > (wrapperWidth * 2 / 3)) {
                    if (currentPage < totalPages - 2) {
                        turnPage('next');
                    } else if (currentPage >= totalPages - 2) {
                        closeBook();
                    }
                }
            });
        });
    </script>
</body>
</html>
